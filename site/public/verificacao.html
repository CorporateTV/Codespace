<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificação | LySync</title>
    <link rel="stylesheet" href="css/style-auth.css">
    <link rel="stylesheet" href="css/style-verificacao.css">
    <link rel="stylesheet" href="css/style-auth-responsivo.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>

<body>
    
    <div class="container-alert">
        <div id="alerta-confirmacao" class="alert"></div>
      </div>

      <div class="container-alert">
        <div id="alerta-erro" class="alertErro"></div>
      </div>
    
    <div class="container-btn-voltar">
        <a href="index.html">
            <i class="fa-solid fa-right-from-bracket fa-lg"></i>
        </a>
    </div>
    <div class="center-container">
        <div class="container-default-verificao">
            <div class="container-bemvindo-verificao">
                <div class="text-bemvindo-verificao">
                    <h1> AUTENTICAÇÃO DE EMAIL </h1>
                </div>
            </div>
            <div class="container-form">
                <div class="text-aviso-verificar">
                    <p>Insira o código de confirmação que enviamos para o seu e-mail para validar sua conta. Se não encontrar o e-mail, verifique sua pasta de spam ou solicite um novo código.</p>
                </div>
                
                <div class="confirmation-code-container">
                    <input id="number1" type="text" class="confirmation-code-input" maxlength="1">
                    <input id="number2" type="text" class="confirmation-code-input" maxlength="1">
                    <input id="number3" type="text" class="confirmation-code-input" maxlength="1">
                    <input id="number4" type="text" class="confirmation-code-input" maxlength="1">
                    <input id="number5" type="text" class="confirmation-code-input" maxlength="1">
                    <input id="number6" type="text" class="confirmation-code-input" maxlength="1">               
                </div>
                <button onclick="validarCod()" class="btn-cadastrar"> VERIFICAR </button>
                <div class="logo-form">
                    <img src="assets/Logo-LiSync-Inverso.png" alt="Logo" class="logo">
                </div>
                <span class="text-link"> click no link para reenviar o código <a onclick="cadastrar(); return false;"> reenviar </a> </span>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    const codigo = localStorage.getItem('codigo');
if (codigo) {
    console.log("Código recuperado:", codigo);
    preencherCodigo(codigo);
} else {
    console.log("Nenhum código encontrado no localStorage.");
}
    
    function validarCod() {
    var codValidar = number1.value + number2.value + number3.value + number4.value + number5.value + number6.value;
    var codigo = localStorage.getItem('codigo');

    if (codigo == codValidar) {
        var alertaConfirmacao = document.getElementById('alerta-confirmacao');
        alertaConfirmacao.innerHTML = "Código Correto!";
        alertaConfirmacao.style.display = "block";

        setTimeout(function() {
            alertaConfirmacao.style.display = "none";
            window.location.href = "login.html";
        }, 3000);
    } else {
        var alertaErro = document.getElementById('alerta-erro');
        alertaErro.innerHTML = "Código incorreto. Por favor, tente novamente.";
        alertaErro.style.display = "block";

        setTimeout(function() {
            alertaErro.style.display = "none";
        }, 3000);
    }
}

    
    
    
    
    
    
    
   
</script>

